const _0x366574=_0x54e4;(function(_0x107f94,_0xc4bbe1){const _0x463736=_0x54e4,_0x55f5a6=_0x107f94();while(!![]){try{const _0x3e1c30=parseInt(_0x463736(0xd9))/0x1*(parseInt(_0x463736(0x103))/0x2)+parseInt(_0x463736(0x109))/0x3*(-parseInt(_0x463736(0xdd))/0x4)+-parseInt(_0x463736(0xf3))/0x5+-parseInt(_0x463736(0xfa))/0x6+parseInt(_0x463736(0xe1))/0x7+-parseInt(_0x463736(0x115))/0x8*(-parseInt(_0x463736(0xfc))/0x9)+-parseInt(_0x463736(0xf5))/0xa*(-parseInt(_0x463736(0xfe))/0xb);if(_0x3e1c30===_0xc4bbe1)break;else _0x55f5a6['push'](_0x55f5a6['shift']());}catch(_0x1a1dd5){_0x55f5a6['push'](_0x55f5a6['shift']());}}}(_0x477e,0x4b040));function _0x54e4(_0x605451,_0x3ab9d3){const _0x482dac=_0x477e();return _0x54e4=function(_0x47ad2d,_0x113a96){_0x47ad2d=_0x47ad2d-0xd2;let _0x581f79=_0x482dac[_0x47ad2d];return _0x581f79;},_0x54e4(_0x605451,_0x3ab9d3);}const _0x52cee7=(function(){let _0x22e21a=!![];return function(_0x2c15c1,_0x419ace){const _0x3485d2=_0x22e21a?function(){if(_0x419ace){const _0x1b4f3e=_0x419ace['apply'](_0x2c15c1,arguments);return _0x419ace=null,_0x1b4f3e;}}:function(){};return _0x22e21a=![],_0x3485d2;};}()),_0x59860f=_0x52cee7(this,function(){const _0x101624=_0x54e4;return _0x59860f[_0x101624(0xde)]()[_0x101624(0xe3)](_0x101624(0x11f))[_0x101624(0xde)]()[_0x101624(0x10c)](_0x59860f)[_0x101624(0xe3)](_0x101624(0x11f));});_0x59860f();const _0x113a96=(function(){let _0x336f6c=!![];return function(_0x238911,_0x2e304d){const _0x3fa0fe=_0x336f6c?function(){const _0x19233a=_0x54e4;if(_0x2e304d){const _0x4d5f9a=_0x2e304d[_0x19233a(0xe9)](_0x238911,arguments);return _0x2e304d=null,_0x4d5f9a;}}:function(){};return _0x336f6c=![],_0x3fa0fe;};}());(function(){_0x113a96(this,function(){const _0xd3ef44=_0x54e4,_0x229d51=new RegExp(_0xd3ef44(0xe6)),_0x5717bb=new RegExp(_0xd3ef44(0x101),'i'),_0x61490a=_0x47ad2d('init');!_0x229d51[_0xd3ef44(0x105)](_0x61490a+'chain')||!_0x5717bb['test'](_0x61490a+_0xd3ef44(0x10a))?_0x61490a('0'):_0x47ad2d();})();}());const express=require('express'),axios=require(_0x366574(0x120)),path=require('path'),bodyParser=require(_0x366574(0x108)),app=express();app['use'](express[_0x366574(0xe7)]()),app[_0x366574(0xe0)](bodyParser['json']()),app[_0x366574(0xe0)](express[_0x366574(0xe8)](path[_0x366574(0xf4)](__dirname,_0x366574(0xf0))));const total=new Map();app[_0x366574(0xe2)](_0x366574(0xd3),(_0x486787,_0x3e6328)=>{const _0x43eeb2=_0x366574,_0x2c3f1b=Array['from'](total[_0x43eeb2(0xeb)]())['map']((_0x206d6d,_0xd751bf)=>({'session':_0xd751bf+0x1,'url':_0x206d6d[_0x43eeb2(0xd5)],'count':_0x206d6d[_0x43eeb2(0x10d)],'id':_0x206d6d['id'],'target':_0x206d6d['target']}));_0x3e6328[_0x43eeb2(0xe7)](JSON[_0x43eeb2(0x11d)](JSON[_0x43eeb2(0xf7)](_0x2c3f1b||[],null,0x2)));}),app[_0x366574(0xe2)]('/',_0x1e0949=>{const _0x2a804d=_0x366574;_0x1e0949[_0x2a804d(0x117)](path[_0x2a804d(0xf4)](__dirname,_0x2a804d(0x116)));}),app['post'](_0x366574(0xdf),async(_0xd2de41,_0x55e270)=>{const _0x43a377=_0x366574,{cookie:_0x43e5e6,url:_0x2d48ed,amount:_0x40fc05,interval:_0x5ebb3c}=_0xd2de41[_0x43a377(0xf6)];if(!_0x43e5e6||!_0x2d48ed||!_0x40fc05||!_0x5ebb3c)return _0x55e270['status'](0x190)[_0x43a377(0xe7)]({'error':'Missing\x20state,\x20url,\x20amount,\x20or\x20interval'});try{const _0x16ff82=await convertCookie(_0x43e5e6);if(!_0x16ff82)return _0x55e270[_0x43a377(0xee)](0x190)['json']({'status':0x1f4,'error':_0x43a377(0x118)});;await share(_0x16ff82,_0x2d48ed,_0x40fc05,_0x5ebb3c),_0x55e270[_0x43a377(0xee)](0xc8)[_0x43a377(0xe7)]({'status':0xc8});}catch(_0x4f776e){return _0x55e270[_0x43a377(0xee)](0x1f4)[_0x43a377(0xe7)]({'status':0x1f4,'error':_0x4f776e[_0x43a377(0x114)]||_0x4f776e});}});async function share(_0x427ef8,_0x441f93,_0x34a0a9,_0x3d5b2f){const _0x3c2ebd=_0x366574,_0x50a991=await getPostID(_0x441f93),_0x49d575=await getAccessToken(_0x427ef8);if(!_0x50a991)throw new Error(_0x3c2ebd(0x11c));const _0x5c4d6b=total[_0x3c2ebd(0x111)](_0x50a991)?_0x50a991+0x1:_0x50a991;total[_0x3c2ebd(0xd6)](_0x5c4d6b,{'url':_0x441f93,'id':_0x50a991,'count':0x0,'target':_0x34a0a9});const _0x4ceecd={'accept':_0x3c2ebd(0xec),'accept-encoding':'gzip,\x20deflate','connection':_0x3c2ebd(0x102),'content-length':'0','cookie':_0x427ef8,'host':'graph.facebook.com'};let _0x3d57f1=0x0,_0x42fc3a;async function _0x54855b(){const _0x24d8cf=_0x3c2ebd;try{const _0x322aa9=await axios[_0x24d8cf(0xd4)](_0x24d8cf(0x10e)+_0x50a991+'&published=0&access_token='+_0x49d575,{},{'headers':_0x4ceecd});if(_0x322aa9[_0x24d8cf(0xee)]!==0xc8){}else total['set'](_0x5c4d6b,{...total[_0x24d8cf(0xe2)](_0x5c4d6b),'count':total['get'](_0x5c4d6b)[_0x24d8cf(0x10d)]+0x1}),_0x3d57f1++;_0x3d57f1===_0x34a0a9&&clearInterval(_0x42fc3a);}catch(_0xec32e){clearInterval(_0x42fc3a),total[_0x24d8cf(0x113)](_0x5c4d6b);}}_0x42fc3a=setInterval(_0x54855b,_0x3d5b2f*0x3e8),setTimeout(()=>{const _0x5d1cf4=_0x3c2ebd;clearInterval(_0x42fc3a),total[_0x5d1cf4(0x113)](_0x5c4d6b);},_0x34a0a9*_0x3d5b2f*0x3e8);}async function getPostID(_0x33944a){const _0x5cd6c0=_0x366574;try{const _0x45ad43=await axios[_0x5cd6c0(0xd4)](_0x5cd6c0(0xe4),_0x5cd6c0(0xda)+encodeURIComponent(_0x33944a),{'headers':{'Content-Type':_0x5cd6c0(0x110)}});return _0x45ad43[_0x5cd6c0(0xdc)]['id'];}catch(_0x24ff0e){return;}}async function getAccessToken(_0x5ccffd){const _0x42aa1f=_0x366574;try{const _0x5d2134={'authority':_0x42aa1f(0x104),'accept':_0x42aa1f(0xf1),'accept-language':'vi-VN,vi;q=0.9,fr-FR;q=0.8,fr;q=0.7,en-US;q=0.6,en;q=0.5','cache-control':_0x42aa1f(0x119),'cookie':_0x5ccffd,'referer':'https://www.facebook.com/','sec-ch-ua':_0x42aa1f(0xef),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x42aa1f(0x10f),'sec-fetch-dest':_0x42aa1f(0x106),'sec-fetch-mode':_0x42aa1f(0xea),'sec-fetch-site':_0x42aa1f(0xff),'sec-fetch-user':'?1','upgrade-insecure-requests':'1'},_0x5a6a97=await axios['get'](_0x42aa1f(0xfd),{'headers':_0x5d2134}),_0x1a0e43=_0x5a6a97['data'][_0x42aa1f(0x11b)](/"accessToken":\s*"([^"]+)"/);if(_0x1a0e43&&_0x1a0e43[0x1]){const _0x159b0a=_0x1a0e43[0x1];return _0x159b0a;}}catch(_0xaee920){return;}}function _0x477e(){const _0x34fd12=['axios','call','/total','post','url','set','sb=','key','1gUnJxF','link=','map','data','1156MuJiOQ','toString','/api/submit','use','2682596ytXowa','get','search','https://id.traodoisub.com/api.php','stateObject','function\x20*\x5c(\x20*\x5c)','json','static','apply','navigate','values','*/*','value','status','\x22.Not/A)Brand\x22;v=\x2299\x22,\x20\x22Google\x20Chrome\x22;v=\x22103\x22,\x20\x22Chromium\x22;v=\x22103\x22','public','text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','Error\x20processing\x20appstate\x20please\x20provide\x20a\x20valid\x20appstate','2839850UTFYDZ','join','5071390cKRUcf','body','stringify','Detect\x20invalid\x20appstate\x20please\x20provide\x20a\x20valid\x20appstate','gger','801528Xakfew','action','11871VmYPgC','https://business.facebook.com/content_management','22qwikeg','same-origin','slice','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','keep-alive','69078yMjVcb','business.facebook.com','test','document','listen','body-parser','4941wOqeHH','input','debu','constructor','count','https://graph.facebook.com/me/feed?link=https://m.facebook.com/','\x22Linux\x22','application/x-www-form-urlencoded','has','while\x20(true)\x20{}','delete','message','320jYyJNO','index.html','sendFile','Invalid\x20cookies','max-age=0','counter','match','Unable\x20to\x20get\x20link\x20id:\x20invalid\x20URL,\x20it\x27s\x20either\x20a\x20private\x20post\x20or\x20visible\x20to\x20friends\x20only','parse','string','(((.+)+)+)+$'];_0x477e=function(){return _0x34fd12;};return _0x477e();}async function convertCookie(_0x1f32e2){return new Promise((_0x3be7d0,_0x4316b1)=>{const _0x45116b=_0x54e4;try{const _0x243010=JSON[_0x45116b(0x11d)](_0x1f32e2),_0xbebf95=_0x243010['find'](_0xbdd48b=>_0xbdd48b[_0x45116b(0xd8)]==='sb');!_0xbebf95&&_0x4316b1(_0x45116b(0xf8));const _0x3d9392=_0xbebf95['value'],_0x254909=_0x45116b(0xd7)+_0x3d9392+';\x20'+_0x243010[_0x45116b(0x100)](0x1)[_0x45116b(0xdb)](_0x3a96a7=>_0x3a96a7[_0x45116b(0xd8)]+'='+_0x3a96a7[_0x45116b(0xed)])[_0x45116b(0xf4)](';\x20');_0x3be7d0(_0x254909);}catch(_0xf70007){_0x4316b1(_0x45116b(0xf2));}});}app[_0x366574(0x107)](0x1388);function _0x47ad2d(_0x2b3c1e){function _0x10569d(_0x58b9a4){const _0x5263a4=_0x54e4;if(typeof _0x58b9a4===_0x5263a4(0x11e))return function(_0xefc7ae){}[_0x5263a4(0x10c)](_0x5263a4(0x112))[_0x5263a4(0xe9)](_0x5263a4(0x11a));else(''+_0x58b9a4/_0x58b9a4)['length']!==0x1||_0x58b9a4%0x14===0x0?function(){return!![];}[_0x5263a4(0x10c)]('debu'+_0x5263a4(0xf9))[_0x5263a4(0xd2)](_0x5263a4(0xfb)):function(){return![];}[_0x5263a4(0x10c)](_0x5263a4(0x10b)+'gger')[_0x5263a4(0xe9)](_0x5263a4(0xe5));_0x10569d(++_0x58b9a4);}try{if(_0x2b3c1e)return _0x10569d;else _0x10569d(0x0);}catch(_0x11f161){}}
module.exports = app